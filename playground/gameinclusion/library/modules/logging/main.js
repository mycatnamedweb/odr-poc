/*
 * @netent/game-inclusion 1.7.2
 * Game Inclusion
 *
 * Copyright, NetEnt AB (publ)
 * Website: https://www.netent.com/
*/

var netent_logging=function(){function e(e,a,o){u=e,f.version="2.0",f.casinoId=u.initRequest.casinoid,f.giInitClts=new Date(e.gi_started_time).toISOString(),f.gameId=u.initRequest.gameid,f.clientVer=u.initRequest.clientver,f.clientName=u.initRequest.clientname,f.logsId=f.logsId||u.configuration.logSessionId,f.logSeqNo="undefined"!=typeof f.logSeqNo?f.logSeqNo:0,f.loadSeqNo="undefined"!=typeof f.loadSeqNo?f.loadSeqNo+1:0,f.gameServer=u.operatorConfig.gameServerURL,f.staticServer=u.operatorConfig.staticServer,f.ua=encodeURIComponent(navigator.userAgent),f.conType=s(),f.giOperatorConfig=u.launchConfig=t(u.launchConfig),f.gameType="real",d(),v=netent_tools.getBooleanValue(e.enabled,!0),netent_logging.logsId=f.logsId,a(n)}function t(e){return"undefined"!=typeof e.sessionId&&delete e.sessionId,"undefined"!=typeof e.gameServerURL&&(e.gameServerURL=!0),"undefined"!=typeof e.gameServer&&(e.gameServer=!0),"undefined"!=typeof e.staticServer&&(e.staticServer=!0),"undefined"!=typeof e.staticServerURL&&(e.staticServerURL=!0),e=netent_launch_tools.flatten(e,!0)}function n(e,t,n){if(v){var s=a(e,t);if(s){if(s.data=netent_tools.combine(s.data,r(s.timestamp)),s.additionalFields)try{s.data.data=netent_tools.combine(s.data.data,i())}catch(c){}s.data=netent_config_handling.filterRedundantParameters(s.data),o(s.data,n)}}}function a(e,t){t=t||new Date;var n;e instanceof netent_error_handling.GiError?(n=e,e="loaderror"):"object"==typeof e&&e.gameError&&(n=e,e="rterror");var a,o={event:e,timestamp:t.toISOString(),additionalFields:!0};switch(e){case"game_load_started":a={name:"GCS_LOAD_STARTED",data:{giInitClts:f.giInitClts}},m=t.getTime(),netent_logging.game_load_started_time=m;break;case"game_ready":a={name:"GCS_GAME_READY",data:{gameLoadTime:t.getTime()-m}};break;case"loaderror":a={name:"GCS_LOAD_ERROR",data:{errorLogs:[l(n,o.timestamp)]}};break;case"rterror":a={name:"GCS_RUNTIME_ERROR",data:{errorLogs:[g(n.gameError,o.timestamp)]}},o.additionalFields=!1;break;default:return}return o.data=a,o}function o(e,t){netent_json_handling.postJson(u.configuration.endpoint,e,function(e){netent_logging.receivedFromDataLake=!0,"function"==typeof t&&t()},function(e){console.log("postJson failed",e),v=!1}),"function"==typeof t&&setTimeout(function(){netent_logging.receivedFromDataLake||t()},2e3)}function r(e){var t={version:f.version,dateOccurred:e,eventId:netent_log_utils.uuidv4(),casinoId:f.casinoId,data:{logsId:f.logsId,logSeqNo:f.logSeqNo++,clientName:f.clientName,clientVer:f.clientVer,gameId:f.gameId,loadSeqNo:f.loadSeqNo,giOperatorConfig:f.giOperatorConfig,gameServer:f.gameServer,staticServer:f.staticServer,jsmem:netent_log_utils.getJSMem(),conType:f.conType,gameType:f.gameType,sessionId:f.sessionId,clScrGamRes:{orient:window.innerWidth>window.innerHeight?"Landscape":"Portrait",bw:window.innerWidth,bh:window.innerHeight,gcw:c("width"),gch:c("height")}}};return screen&&(t.data.clScrGamRes=netent_tools.combine(t.data.clScrGamRes,{sw:screen.width,sh:screen.height,saw:screen.availWidth,sah:screen.availHeight})),t}function i(){var e={ua:f.ua,blang:navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage,hwc:navigator.hardwareConcurrency||1,flash:netent_log_utils.getFlash(),webgl:netent_log_utils.getWebGL(),casinourl:window.location.host+window.location.pathname};return screen&&(e=netent_tools.combine(e,{scrcol:{scpd:screen.pixelDepth||"",sccd:screen.colorDepth||""}})),e}function s(){try{var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return e.type||""}catch(t){return""}}function c(e){var t=document.getElementById(u.operatorConfig.targetElement||netent_config_handling.defaultValues.targetElement);return t?window.getComputedStyle(t).getPropertyValue(e):""}function g(e,t){return"[object Array]"===Object.prototype.toString.call(e)?{clts:t,code:e[0],msg:e[1]}:{clts:t,code:e,msg:e}}function d(){var e=u.launchConfig["operatorConfiguration.sessid"]||u.operatorConfig.sessionId;e&&(f.sessionId=e.substr(0,e.length-4)+"XXXX",e.toLowerCase().indexOf("demo-")!==-1&&(f.gameType="demo"))}function l(e,t){return{clts:t,code:e.code,msg:e.message,txt:e.error||e.causedBy||"",src:e.origin||""}}var u,m,f={},v=!0,p=!1;return{init:e,receivedFromDataLake:p}}(),netent_log_utils=function(){function e(){function e(){var e,t,n,a;if(navigator.plugins&&navigator.plugins.length>0){t=navigator.plugins;for(var o=0;o<t.length&&!a;o++)n=t[o],n.name.indexOf("Shockwave Flash")>-1&&(a=n.description.split("Shockwave Flash ")[1])}else{n="ShockwaveFlash.ShockwaveFlash";try{e=new ActiveXObject(n+".7"),a=e.GetVariable("$version")}catch(r){}if(!a)try{e=new ActiveXObject(n+".6"),e.AllowScriptAccess="always",a=e.GetVariable("$version")}catch(r){}if(!a)try{e=new ActiveXObject(n),a=e.GetVariable("$version")}catch(r){}a&&(a=a.split(" ")[1].split(","),a=a[0]+"."+a[1]+" r"+a[2])}return a?a:"0"}var t=e();return"0"===t?{installed:!1}:{raw:t,major:t.slice(0,t.indexOf(".")),minor:t.slice(t.indexOf(".")+1,t.indexOf(" ")),revision:t.slice(t.indexOf("r")+1),installed:!0}}function t(){if(window.WebGLRenderingContext){for(var e,t=document.createElement("canvas"),n=["webgl","experimental-webgl","moz-webgl","webkit-3d"],a=0;a<4;a++)try{if(e=t.getContext(n[a]),e&&"function"==typeof e.getParameter)return{supported:!0,enabled:!0,ver:n[a]}}catch(o){}return{supported:!0,enabled:!1}}return{supported:!1}}function n(){try{return{jshslimit:window.performance.memory.jsHeapSizeLimit||"",jshstotal:window.performance.memory.totalJSHeapSize||"",jshsused:window.performance.memory.usedJSHeapSize||""}}catch(e){}}function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}return{getWebGL:t,getFlash:e,getJSMem:n,uuidv4:a}}();