/*
 * @netent/game-inclusion 1.7.2
 * Game Inclusion
 *
 * Copyright, NetEnt AB (publ)
 * Website: https://www.netent.com/
*/

var netent_post_form=function(){function n(n,t,e){try{var o=r(n,t);netent_post_form.submit(o)}catch(a){e(a)}}function t(n){n.submit()}function e(n,t,e){var o=document.createElement("input");o.type="hidden",o.name=n,o.value=t,e.appendChild(o)}function o(n,t){t=netent_launch_tools.flatten(t,!0),Object.keys(t).forEach(function(o){e(o,t[o],n)})}function r(n,t){var e=document.createElement("form");e.setAttribute("action",n),o(e,t);var r=document.createElement("input");r.type="submit",r.value="Submit me",e.appendChild(r),e.method="POST",e.style.display="none";var a=document.body;return a&&a.appendChild(e),e}return{post:n,submit:t}}(),netent_html_redirect=function(){function n(){f.forEach(function(n){s?n.yes():n.no()}),f.length=0}function t(t){s=t,n()}function e(){t(!0)}function o(){t(!1)}function r(n,t,r){f.push({yes:t,no:r}),netent_tools.loadScript(n+"game/gameLauncher.js",e,o)}function a(n,t,e){return function(){try{t.sessId=t.sessid;var o=netent_launch_tools.createUrl(n,t);o=netent_tools.addLoggingData(o,!0),netent_html_redirect.windowLocation(o)}catch(r){e(r)}}}function i(n){window.location=n}function c(n){var t=[{from:"gameServerURL",to:"server"},{from:"language",to:"lang"},{from:"sessionId",to:"sessid"},{from:"casinoBrand",to:"operatorId"}];if(n.hasOwnProperty("mobileParams")){var e=n.mobileParams;Object.keys(e).forEach(function(t){e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])})}delete n.mobileParams,t.forEach(function(t){n.hasOwnProperty(t.from)&&(n[t.to]=n[t.from]),delete n[t.from]})}function u(n,t,e){s=void 0,f=[],c(n.operatorConfiguration),netent_logging_handling.initLogging(n,n,function(){n.operatorConfiguration.gameURL=n.gameURL;try{var t=n.operatorConfiguration.server+"mobile-game-launcher/GameLauncher",o=netent_launch_tools.extractQueryConfig(n.operatorConfiguration);netent_logging_handling.log("game_load_started",null,function(){r(n.operatorConfiguration.server,function(){netent_tools.addLoggingData(o,!0),netent_post_form.post(t,o,e)},a(n.gameURL,o,e))})}catch(i){console.dir(i),e(i)}})}var s,f=[];return{init:u,windowLocation:i}}();